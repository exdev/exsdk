-- ======================================================================================
-- File         : global.lua
-- Author       : Wu Jie 
-- Last Change  : 02/18/2013 | 17:16:22 PM | Monday,February
-- Description  : 
-- ======================================================================================

--/////////////////////////////////////////////////////////////////////////////
-- base functions
--/////////////////////////////////////////////////////////////////////////////

-- -- ------------------------------------------------------------------ 
-- -- Desc: 
-- -- ------------------------------------------------------------------ 

-- DISABLE: if use this, the callback stack will show only here
-- local builtinAssert = assert
-- function assert ( _exp, _msg, ... )
--     builtinAssert ( _exp,  _msg:format(...)  )
-- end

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

local builtinError = error
function error ( _msg, ... )
    builtinError( _msg:format(...) )
end

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function printf ( _msg, ... ) 
    print ( _msg:format(...) )
end

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function checkarg ( _arg, _typename )
    assert ( typename(_arg) == _typename, 
             string.format("Type error: must be %s", _typename ) )
end

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function TODO ( ... )
    assert ( false, ... )
end
