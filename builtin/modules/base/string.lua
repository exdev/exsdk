-- ======================================================================================
-- File         : string.lua
-- Author       : Wu Jie 
-- Last Change  : 02/19/2013 | 18:49:51 PM | Tuesday,February
-- Description  : 
-- ======================================================================================

local __M = {}

--/////////////////////////////////////////////////////////////////////////////
-- base functions
--/////////////////////////////////////////////////////////////////////////////

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function findlast ( _s, _pattern, _plain )
    local curr = 0

    repeat
        local next = _s:find(_pattern, curr + 1, _plain)
        if next then curr = next end
    until not next

    if curr > 0 then
        return curr
    end	
end
__M.findlast = findlast

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function split ( _s, _pattern )
    local list = {}
    for w in string.gmatch(_s, "[^".._pattern.."]+") do
        list[#list+1] = w
    end
    return list
end
__M.split = split

-- ------------------------------------------------------------------ 
-- Desc: 
-- ------------------------------------------------------------------ 

function trim ( _s )
    return _s:match( "^%s*(.-)%s*$" )
end
__M.trim = trim

--/////////////////////////////////////////////////////////////////////////////
-- 
--/////////////////////////////////////////////////////////////////////////////

return __M
