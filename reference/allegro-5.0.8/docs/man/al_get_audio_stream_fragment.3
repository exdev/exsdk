.TH al_get_audio_stream_fragment 3 "" "Allegro reference manual"
.SH NAME
.PP
al_get_audio_stream_fragment - Allegro 5 API
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <allegro5/allegro_audio.h>

void\ *al_get_audio_stream_fragment(const\ ALLEGRO_AUDIO_STREAM\ *stream)
\f[]
.fi
.SH DESCRIPTION
.PP
When using Allegro\[aq]s audio streaming, you will use this function to
continuously provide new sample data to a stream.
.PP
If the stream is ready for new data, the function will return the
address of an internal buffer to be filled with audio data.
The length and format of the buffer are specified with
al_create_audio_stream(3) or can be queried with the various functions
described here.
Once the buffer is filled, you must signal this to Allegro by passing
the buffer to al_set_audio_stream_fragment(3).
.PP
If the stream is not ready for new data, the function will return NULL.
.RS
.PP
\f[I]Note:\f[] If you listen to events from the stream, an
ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT event will be generated whenever a
new fragment is ready.
However, getting an event is \f[I]not\f[] a guarantee that
al_get_audio_stream_fragment(3) will not return NULL, so you still must
check for it.
.RE
.SH SEE ALSO
.PP
al_set_audio_stream_fragment(3), al_get_audio_stream_event_source(3),
al_get_audio_stream_frequency(3), al_get_audio_stream_channels(3),
al_get_audio_stream_depth(3), al_get_audio_stream_length(3)
