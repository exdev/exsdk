.TH al_ftofix 3 "" "Allegro reference manual"
.SH NAME
.PP
al_ftofix - Allegro 5 API
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <allegro5/allegro.h>

al_fixed\ al_ftofix(double\ x);
\f[]
.fi
.SH DESCRIPTION
.PP
Converts a floating point value to fixed point.
Unlike al_itofix(3), this function clamps values which could overflow
the type conversion, setting Allegro\[aq]s errno to ERANGE in the
process if this happens.
.PP
Example:
.IP
.nf
\f[C]
\ \ \ \ al_fixed\ number;

\ \ \ \ number\ =\ al_itofix(-40000);
\ \ \ \ assert(al_fixfloor(number)\ ==\ -32768);

\ \ \ \ number\ =\ al_itofix(64000);
\ \ \ \ assert(al_fixfloor(number)\ ==\ 32767);
\ \ \ \ assert(!al_get_errno());\ /*\ This\ will\ fail.\ */
\f[]
.fi
.SH RETURN VALUE
.PP
Returns the value of the floating point value converted to fixed point
clamping overflows (and setting Allegro\[aq]s errno).
.SH SEE ALSO
.PP
al_fixtof(3), al_itofix(3), al_fixtoi(3), al_get_errno(3)
